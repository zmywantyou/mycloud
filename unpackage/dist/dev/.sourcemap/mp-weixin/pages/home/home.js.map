{"version":3,"file":"home.js","sources":["pages/home/home.vue","E:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaG9tZS9ob21lLnZ1ZQ"],"sourcesContent":["<template>\r\n\t\n<view class=\"home-container\">\r\n\t<filesystem/>\r\n\t<filenameBox/>\r\n\t<addbtn/>\n  <view class=\"file-container\">\n    <!-- 文件列表 -->\n    <view class=\"file-list\" v-if=\"isfilesnull\">\r\n\t\t\n     <view  v-for=\"item in files\":key=\"item.path\" >\r\n\t\t<view class=\"file-item\" :style=\"Isdelteing?Delfilelist.includes(item)?Deldivstyle:{}:{}\" @click=\"Isdelteing? BtDetFile(item):BtnNextpath(item)\">\n        <view class=\"file-icon\" >\n          <img :src=\"IndentIcon.Indentify(item.type,item.path)\" class=\"icon\" />\n        </view>\n        <view class=\"file-info\">\n          <text class=\"file-name\">{{item.path}}</text>\n        </view>  \r\n\t\t</view>\n      </view>\n</view>\n    <!-- 空状态 -->\n    <view  class=\"empty-state\" v-else>\n      <text class=\"empty-text\">暂无文件</text>\n    </view>\n  </view>\n</view>\r\n\n</template>\n\n<script lang=\"ts\" setup>\r\nimport  filesystem from\"@/complet/filesystem.vue\"\r\nimport {Alogrithm} from\"../../Tool/Algorithm\"\r\nimport {Findflie} from\"../../Tool/Findflie\"\r\nimport filenameBox from \"@/complet/filenameBox.vue\";\r\nimport addbtn from\"@/complet/addbtn.vue\";\r\nimport { Setting } from \"../../setting/Setting\";\nimport { ICallbackOperation } from '../../Mode/CallbackOperation';\r\nimport {IoutMode} from'../../Mode/IoutMode'\r\nimport {CreateUrl,Getype}from'../../Tool/CreateUrl'\nimport { Ref, onBeforeMount, onMounted,reactive,ref } from \"vue\";\nimport { TreeNode } from \"../../Tool/TreeNode\";\r\nimport{DownloandFile}from\"../../Tool/DownloadFile\"\r\nimport{Indentifyicon}from\"../../Tool/Identifyicon\";\nimport { emit, on } from \"cluster\";\nimport { BasePostapi } from \"../../Api/BasePostapi\";\r\nimport { fileSystemSever } from \"../../severs/fileSystemSever\";\nimport { promises } from \"dns\";\r\n\r\nlet Deldivstyle=ref({\n  background: '#f0f0f0',\n  boxShadow: '0 4px 8px rgba(0,0,0,0.1)',\n  padding: '20px',\n  borderRadius: '8px'\n});\nlet files=ref<IoutMode[]>();\r\nlet Delfilelist:Ref<IoutMode[]>=ref([]);\r\nlet isfilesnull=ref<boolean>(false)\r\nlet Sha=ref<string>();\r\nlet IndentIcon=new Indentifyicon(\"../../static\");\r\nlet Isdelteing=ref<boolean>(false)\r\nlet upper:boolean=false;\r\nuni.__f__('log','at pages/home/home.vue:63',\"this home\")\r\n//更新列表\r\nuni.$on(\"Getfillist/\",(re)=>{\r\n\tDelfilelist.value=[]\r\n   Updatafilelist(re);\r\n})\r\n\r\nfunction BtnNextpath(item:IoutMode){\r\n\tif(item.type==\"tree\")\r\n\tuni.$emit(\"Postfilest/path/tree\",item)\r\n\tif(item.type==\"blob\")\r\n\tuni.$emit(\"Postfilest/path/blob\",item)\r\n\t\r\n}\r\nfunction BtDetFile(item:IoutMode){\r\n\tDelfilelist.value.push(item)\r\n}\r\nuni.$on(\"Delclicked\",()=>{\r\n\tuni.__f__('log','at pages/home/home.vue:81',\"delcilked\")\r\n\tuni.$emit(\"DelOperation\",Delfilelist.value)\r\n})\r\nuni.$on(\"isDelChang\",(re)=>{\r\n\tif(re==true){\r\n\t\tuni.__f__('log','at pages/home/home.vue:86',\"had cl\")\r\n\t\tIsdelteing.value=true\r\n\t\t\r\n\t}\r\n\telse {\r\n\t\tIsdelteing.value=false\r\n\t\tDelfilelist.value=[];\r\n\t\t}\r\n})\r\nfunction Updatafilelist(re:any){\r\n\tuni.__f__('log','at pages/home/home.vue:96',re)\r\n\tfiles.value=re;\r\n\tIsfilstnull(files)\r\n}\r\nfunction deladdlist(file:IoutMode){\r\n\t\r\n}\r\n// uni.$on(\"FiesystemError\",(err)=>{\r\n// \tShowerr(err);\r\n// })\r\nfunction Showerr(error:Error){\r\n\tuni.showToast({\r\n\t\ttitle:\"文件重复\",\r\n\t\ticon:\"none\"\r\n\t})\r\n\tuni.__f__('log','at pages/home/home.vue:111',error)\r\n}\r\nfunction Isfilstnull(files:Ref<IoutMode[]|undefined>){\r\n\tif(files.value==undefined){\r\n\t\tisfilesnull.value=false;\r\n\t}\r\n\telse isfilesnull.value=true\r\n\t\r\n}\r\n\r\n\t     \n</script>\n<style>\n.home-container {\n  padding: 20rpx;\n  background-color: #f5f5f5;\n  min-height: 100vh;\n}\n\n.file-item {\n  display: flex;\n  align-items: center;\n  padding: 24rpx;\n  background: white;\n  margin-bottom: 20rpx;\n  border-radius: 12rpx;\n  box-shadow: 0 2rpx 6rpx rgba(0,0,0,0.05);\n}\n\n.file-icon .icon {\n  width: 80rpx;\n  height: 80rpx;\n  margin-right: 24rpx;\n}\n\n.file-info {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.file-name {\n  font-size: 32rpx;\n  color: #333;\n  margin-bottom: 8rpx;\n}\n\n.file-meta {\n  font-size: 24rpx;\n  color: #999;\n}\n.file-actions {\n  position: absolute;\n  right: 24rpx;\n  top: 50%;\n  transform: translateY(-25%);\n  opacity: 0.8;\n  transition: all 0.2s ease;\n}\n.file-actions .action-icon {\n  width: 48rpx;\n  height: 48rpx;\n  padding: 20rpx;\n}\n\n.empty-state {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 100rpx 0;\n}\n\n.empty-icon {\n  width: 200rpx;\n  height: 200rpx;\n  opacity: 0.5;\n  margin-bottom: 40rpx;\n}\n\n.empty-text {\n  color: #999;\n  font-size: 28rpx;\n}\n</style>\n","import MiniProgramPage from 'D:/myproject/Mycloud/Mycloud_ui/pages/home/home.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","Indentifyicon","uni","files","MiniProgramPage"],"mappings":";;;;;;AA+BA,MAAA,aAAuB,MAAA;AAGvB,MAAA,cAAwB,MAAA;AACxB,MAAA,SAAkB,MAAA;;;;AAclB,QAAI,cAAYA,cAAAA,IAAI;AAAA,MAClB,YAAY;AAAA,MACZ,WAAW;AAAA,MACX,SAAS;AAAA,MACT,cAAc;AAAA,IAAA,CACf;AACD,QAAI,QAAMA,cAAAA;AACN,QAAA,cAA4BA,kBAAI,CAAA,CAAE;AAClC,QAAA,cAAYA,kBAAa,KAAK;AAC1BA,sBAAY;AAChB,QAAA,aAAW,IAAIC,gCAAc,cAAc;AAC3C,QAAA,aAAWD,kBAAa,KAAK;AAE7BE,kBAAAA,MAAA,MAAM,OAAM,6BAA4B,WAAW;AAEnDA,kBAAAA,MAAA,IAAI,eAAc,CAAC,OAAK;AAC3B,kBAAY,QAAM;AAChB,qBAAe,EAAE;AAAA,IAAA,CACnB;AAED,aAAS,YAAY,MAAc;AAClC,UAAG,KAAK,QAAM;AACVA,sBAAAA,MAAA,MAAM,wBAAuB,IAAI;AACrC,UAAG,KAAK,QAAM;AACVA,sBAAAA,MAAA,MAAM,wBAAuB,IAAI;AAAA,IAEtC;AACA,aAAS,UAAU,MAAc;AACpB,kBAAA,MAAM,KAAK,IAAI;AAAA,IAC5B;AACIA,wBAAA,IAAI,cAAa,MAAI;AACpBA,oBAAAA,MAAA,MAAM,OAAM,6BAA4B,WAAW;AACnDA,oBAAAA,MAAA,MAAM,gBAAe,YAAY,KAAK;AAAA,IAAA,CAC1C;AACGA,kBAAAA,MAAA,IAAI,cAAa,CAAC,OAAK;AAC1B,UAAG,MAAI,MAAK;AACPA,sBAAAA,MAAA,MAAM,OAAM,6BAA4B,QAAQ;AACpD,mBAAW,QAAM;AAAA,MAAA,OAGb;AACJ,mBAAW,QAAM;AACjB,oBAAY,QAAM;MAClB;AAAA,IAAA,CACD;AACD,aAAS,eAAe,IAAO;AAC1BA,oBAAAA,MAAA,MAAM,OAAM,6BAA4B,EAAE;AAC9C,YAAM,QAAM;AACZ,kBAAY,KAAK;AAAA,IAClB;AAcA,aAAS,YAAYC,QAAgC;AACjDA,UAAAA,OAAM,SAAO,QAAU;AACzB,oBAAY,QAAM;AAAA,MACnB;AACK,oBAAY,QAAM;AAAA,IAExB;;;;;;;;;;;;;;;;;;ACrHA,GAAG,WAAWC,SAAe;"}